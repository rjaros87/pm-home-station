matrix:
  include:
    - language: android
      jdk: openjdk17
      android:
        components:
          - tools
          - android-34
          - build-tools-34.0.0
      licenses:
        - 'android-sdk-license-.+'
      before_install:
        - yes | sdkmanager "platforms;android-34"
      # https://github.com/travis-ci/travis-ci/issues/8667#issuecomment-366589908
      install:
        - true
      script:
        - ./gradlew android:build
    - language: java
      jdk: openjdk20
      # https://github.com/travis-ci/travis-ci/issues/8667#issuecomment-366589908
      install:
        - true
      script:
        - ./gradlew shadowJar createExe

# Temporary disabled
#    - language: objective-c
#      osx_image: xcode11.3
#      xcode_project: iOS/PMMonitor.xcodeproj
#      xcode_scheme: PMMonitor
#      script: git submodule init && git submodule update  && cd iOS && xcodebuild clean build -project PMMonitor.xcodeproj -scheme PMMonitor CODE_SIGN_IDENTITY="" CODE_SIGNING_REQUIRED=NO CODE_SIGNING_ALLOWED=NO
